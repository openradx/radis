{% extends "extractions/extractions_layout.html" %}
{% load crispy from crispy_forms_tags %}
{% load bootstrap_icon from common_extras %}
{% block title %}
    New Extraction Job
{% endblock title %}
{% block heading %}
    <c-page-heading title="New Extraction Job - Search Query (Step 2 of 3)">
    <c-slot name="left">
    <button type="button"
            class="btn btn-info"
            hx-get="{% url 'extraction_help' %}"
            hx-target="#htmx-dialog">
        Help
        {% bootstrap_icon "question-circle" %}
    </button>
    </c-slot>
    <c-slot name="right">
    <a href="{% url 'extraction_job_list' %}" class="btn btn-secondary">
        {% bootstrap_icon "list" %}
        Previous Jobs
    </a>
    </c-slot>
    </c-page-heading>
{% endblock heading %}
{% block content %}
    <form action=""
          method="post"
          x-data="{ isLoading: false }"
          @input.debounce.500ms="isLoading = true; htmx.trigger('#search-preview', 'updatePreview');">
        {% csrf_token %}
        {{ wizard.management_form }}
        {% crispy form %}
    </form>
{% endblock content %}
